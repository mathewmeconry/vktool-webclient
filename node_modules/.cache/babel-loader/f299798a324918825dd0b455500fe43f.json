{"ast":null,"code":"import _classCallCheck from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mathias/Documents/privat/VK/vk-tool/src/app/components/SecureRoute.tsx\";\nimport React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { AuthRoles } from '../../shared/AuthRoles';\n\nvar _SecureRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_SecureRoute, _Component);\n\n  function _SecureRoute() {\n    _classCallCheck(this, _SecureRoute);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_SecureRoute).apply(this, arguments));\n  }\n\n  _createClass(_SecureRoute, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.user && (this.props.user.roles.indexOf(this.props.role) > -1 || this.props.user.roles.indexOf(AuthRoles.ADMIN) > -1)) {\n        return React.createElement(Route, {\n          exact: this.props.exact,\n          path: this.props.path,\n          component: this.props.component,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Route, {\n        exact: this.props.exact,\n        path: this.props.path,\n        component: function component() {\n          return React.createElement(Redirect, {\n            push: true,\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return _SecureRoute;\n}(Component);\n\nexport { _SecureRoute as default };\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.data.user.data\n  };\n};\n\nexport var SecureRoute = connect(mapStateToProps)(_SecureRoute);","map":{"version":3,"sources":["/home/mathias/Documents/privat/VK/vk-tool/src/app/components/SecureRoute.tsx"],"names":["React","Component","Route","Redirect","connect","AuthRoles","_SecureRoute","props","user","roles","indexOf","role","ADMIN","exact","path","component","mapStateToProps","state","data","SecureRoute"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,SAAT,QAA0B,wBAA1B;;IAWqBC,Y;;;;;;;;;;;;;6BACD;AACZ,UAAI,KAAKC,KAAL,CAAWC,IAAX,KAAoB,KAAKD,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBC,OAAtB,CAA8B,KAAKH,KAAL,CAAWI,IAAzC,IAAiD,CAAC,CAAlD,IAAuD,KAAKJ,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBC,OAAtB,CAA8BL,SAAS,CAACO,KAAxC,IAAiD,CAAC,CAA7H,CAAJ,EAAqI;AACjI,eACI,oBAAC,KAAD;AAAO,UAAA,KAAK,EAAE,KAAKL,KAAL,CAAWM,KAAzB;AAAgC,UAAA,IAAI,EAAE,KAAKN,KAAL,CAAWO,IAAjD;AAAuD,UAAA,SAAS,EAAE,KAAKP,KAAL,CAAWQ,SAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH;;AAED,aACI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,KAAKR,KAAL,CAAWM,KAAzB;AAAgC,QAAA,IAAI,EAAE,KAAKN,KAAL,CAAWO,IAAjD;AAAuD,QAAA,SAAS,EAAE,qBAAM;AAAE,iBAAQ,oBAAC,QAAD;AAAU,YAAA,IAAI,MAAd;AAAe,YAAA,EAAE,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AAAwC,SAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;;;;EAXqCb,S;;SAArBK,Y;;AAcrB,IAAMU,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAkB;AACtC,SAAO;AACHT,IAAAA,IAAI,EAAES,KAAK,CAACC,IAAN,CAAWV,IAAX,CAAgBU;AADnB,GAAP;AAGH,CAJD;;AAMA,OAAO,IAAMC,WAAW,GAAGf,OAAO,CAACY,eAAD,CAAP,CAAyBV,YAAzB,CAApB","sourcesContent":["import React, { Component } from 'react'\nimport UserModel from '../../shared/models/UserModel';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport { AuthRoles } from '../../shared/AuthRoles';\n\nexport interface SecureRouteProps {\n    user?: UserModel,\n    exact: boolean,\n    path: string,\n    role: AuthRoles\n    component: any\n    location?: Location\n}\n\nexport default class _SecureRoute extends Component<SecureRouteProps> {\n    public render() {\n        if (this.props.user && (this.props.user.roles.indexOf(this.props.role) > -1 || this.props.user.roles.indexOf(AuthRoles.ADMIN) > -1)) {\n            return (\n                <Route exact={this.props.exact} path={this.props.path} component={this.props.component} />\n            )\n        }\n\n        return (\n            <Route exact={this.props.exact} path={this.props.path} component={() => { return (<Redirect push to=\"/login\" />) }} />\n        )\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user.data\n    }\n}\n\nexport const SecureRoute = connect(mapStateToProps)(_SecureRoute)"]},"metadata":{},"sourceType":"module"}