{"ast":null,"code":"import _classCallCheck from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mathias/Documents/privat/VK/vk-tool/src/app/views/Login.tsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Data } from \"../actions/DataActions\";\nimport Loading from \"../components/Loading\";\nimport { UI } from \"../actions/UIActions\";\nexport var _Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_Login, _Component);\n\n  function _Login() {\n    _classCallCheck(this, _Login);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_Login).apply(this, arguments));\n  }\n\n  _createClass(_Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.props.fetchUser();\n\n      if (this.props.location.search === '?error') {\n        this.props.showError();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.user.data) {\n        this.props.history.goBack();\n        return null;\n      } else if (this.props.user.loading) {\n        return React.createElement(Loading, {\n          fullscreen: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          id: \"login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \"Login\"), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Username\",\n          className: \"form-control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          className: \"form-control\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"btn btn-primary btn-block\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, \"Login\")), \"oder\", React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          className: \"btn btn-secondary btn-block\",\n          href: \"http://localhost:8000/api/auth/outlook\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(FontAwesomeIcon, {\n          icon: \"microsoft\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }), \"VK-Login\")));\n      }\n    }\n  }]);\n\n  return _Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.data.user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchUser: function fetchUser() {\n      dispatch(Data.fetchUser());\n    },\n    showError: function showError() {\n      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"Ooppss...! Versuche es später erneut\";\n      dispatch(UI.showError(message));\n    }\n  };\n};\n\nexport var Login = connect(mapStateToProps, mapDispatchToProps)(_Login);","map":{"version":3,"sources":["/home/mathias/Documents/privat/VK/vk-tool/src/app/views/Login.tsx"],"names":["React","Component","connect","FontAwesomeIcon","Data","Loading","UI","_Login","props","fetchUser","location","search","showError","user","data","history","goBack","loading","mapStateToProps","state","mapDispatchToProps","dispatch","message","Login"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { State } from '../reducers/IndexReducer';\nimport UserModel from \"../../shared/models/UserModel\";\nimport { History, Location } from \"history\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { ThunkDispatch } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { Data } from \"../actions/DataActions\";\nimport { SingleDataInterface } from \"../reducers/DataReducer\";\nimport Loading from \"../components/Loading\";\nimport { Redirect } from \"react-router-dom\";\nimport { UI } from \"../actions/UIActions\";\n\nexport class _Login extends Component<{ user: SingleDataInterface<UserModel>, history: History, location: Location, fetchUser: Function, showError: (message?: string) => void }> {\n    public componentWillMount() {\n        this.props.fetchUser()\n\n        if (this.props.location.search === '?error') {\n            this.props.showError();\n        }\n    }\n\n    public render() {\n        if (this.props.user.data) {\n            this.props.history.goBack()\n            return null\n        } else if (this.props.user.loading) {\n            return (<Loading fullscreen={true} />)\n        } else {\n            return (\n                <div id=\"login\">\n                    <h2>Login</h2>\n                    <div className=\"form-group\">\n                        <input type=\"text\" name=\"username\" placeholder=\"Username\" className=\"form-control\" />\n                        <input type=\"password\" name=\"password\" placeholder=\"Password\" className=\"form-control\" />\n                        <button className=\"btn btn-primary btn-block\">Login</button>\n                    </div>\n                    oder\n                < div className=\"form-group\" >\n                        <a className=\"btn btn-secondary btn-block\" href=\"http://localhost:8000/api/auth/outlook\"><FontAwesomeIcon icon=\"microsoft\"></FontAwesomeIcon>VK-Login</a>\n                    </div >\n                </div >\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state: State) => {\n    return {\n        user: state.data.user\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>) => {\n    return {\n        fetchUser: () => {\n            dispatch(Data.fetchUser())\n        },\n        showError: (message = \"Ooppss...! Versuche es später erneut\") => {\n            dispatch(UI.showError(message))\n        }\n    }\n}\n\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login)"]},"metadata":{},"sourceType":"module"}