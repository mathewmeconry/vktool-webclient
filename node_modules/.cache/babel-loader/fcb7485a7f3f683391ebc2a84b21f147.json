{"ast":null,"code":"import _classCallCheck from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mathias/Documents/privat/VK/vk-tool/src/app/views/User.tsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Data } from '../actions/DataActions';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport FormEntry from '../components/FormEntry';\nimport { Link } from 'react-router-dom';\nimport Table from '../components/Table';\nexport var _User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_User, _Component);\n\n  function _User(props) {\n    var _this;\n\n    _classCallCheck(this, _User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_User).call(this, props));\n\n    _this.props.fetchUsers();\n\n    return _this;\n  }\n\n  _createClass(_User, [{\n    key: \"renderBexioPart\",\n    value: function renderBexioPart() {\n      if (!this.props.user.bexioContact) {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \"Kein Link gefunden....\");\n      }\n\n      var contact = this.props.user.bexioContact;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(FormEntry, {\n        id: \"bexioId\",\n        title: \"ID\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, contact.bexioId), React.createElement(FormEntry, {\n        id: \"firstname\",\n        title: \"Vorname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, contact.firstname), React.createElement(FormEntry, {\n        id: \"lastname\",\n        title: \"Nachname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, contact.lastname), React.createElement(Link, {\n        to: \"/contact/\" + contact._id,\n        className: \"btn btn-block btn-outline-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"Kontakt \\xF6ffnen\"), React.createElement(\"a\", {\n        target: \"_blank\",\n        href: \"https://office.bexio.com/index.php/kontakt/show/id/\" + contact.bexioId,\n        className: \"btn btn-block btn-outline-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"In Bexio anschauen\"));\n    }\n  }, {\n    key: \"renderRolePart\",\n    value: function renderRolePart() {\n      var roles = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.user.roles[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _role = _step.value;\n          roles.push({\n            role: _role\n          });\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return React.createElement(Table, {\n        columns: [{\n          text: 'Role',\n          keys: ['role']\n        }],\n        data: roles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.loading || !this.props.user) {\n        return React.createElement(Page, {\n          title: \"Loading...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(Page, {\n        title: this.props.user.displayName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Column, {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Panel, {\n        title: \"Allgemeine Informationen\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(FormEntry, {\n        id: \"displayName\",\n        title: \"Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.props.user.displayName)), React.createElement(Panel, {\n        title: \"Rechte\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.renderRolePart())), React.createElement(Column, {\n        className: \"col-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Panel, {\n        title: \"Bexio Informationen\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.renderBexioPart()))));\n    }\n  }]);\n\n  return _User;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, props) {\n  return {\n    user: state.data.users.byId[props.match.params.id],\n    loading: state.data.users.loading\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    fetchUsers: function fetchUsers() {\n      dispatch(Data.fetchUsers());\n    }\n  };\n}; //@ts-ignore\n\n\nexport var User = connect(mapStateToProps, mapDispatchToProps)(_User);","map":{"version":3,"sources":["/home/mathias/Documents/privat/VK/vk-tool/src/app/views/User.tsx"],"names":["React","Component","connect","Data","Page","Loading","Row","Column","Panel","FormEntry","Link","Table","_User","props","fetchUsers","user","bexioContact","contact","bexioId","firstname","lastname","_id","roles","role","push","text","keys","loading","displayName","renderRolePart","renderBexioPart","mapStateToProps","state","data","users","byId","match","params","id","mapDispatchToProps","dispatch","User"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { State } from '../reducers/IndexReducer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { connect } from 'react-redux'\nimport { Data } from '../actions/DataActions';\nimport UserModel from '../../shared/models/UserModel';\nimport ContactModel from '../../shared/models/ContactModel';\nimport { Page } from '../components/Page';\nimport Loading from '../components/Loading';\nimport Row from '../components/Row';\nimport Column from '../components/Column';\nimport Panel from '../components/Panel';\nimport FormEntry from '../components/FormEntry';\nimport { Link } from 'react-router-dom';\nimport Table from '../components/Table';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport interface UserProps {\n    user: UserModel,\n    loading: boolean,\n    fetchUsers: Function,\n}\n\nexport class _User extends Component<UserProps> {\n    constructor(props: UserProps) {\n        super(props)\n        this.props.fetchUsers()\n    }\n\n    public renderBexioPart() {\n        if (!this.props.user.bexioContact) {\n            return (<span>Kein Link gefunden....</span>)\n        }\n\n        let contact = this.props.user.bexioContact as ContactModel\n        return (\n            <div>\n                <FormEntry id=\"bexioId\" title=\"ID\">{contact.bexioId}</FormEntry>\n                <FormEntry id=\"firstname\" title=\"Vorname\">{contact.firstname}</FormEntry>\n                <FormEntry id=\"lastname\" title=\"Nachname\">{contact.lastname}</FormEntry>\n                <Link to={\"/contact/\" + contact._id} className=\"btn btn-block btn-outline-primary\">Kontakt öffnen</Link>\n                <a target=\"_blank\" href={\"https://office.bexio.com/index.php/kontakt/show/id/\" + contact.bexioId} className=\"btn btn-block btn-outline-primary\">In Bexio anschauen</a>\n            </div>\n        )\n    }\n\n    public renderRolePart() {\n        let roles: Array<{ role: string }> = []\n\n        for (let role of this.props.user.roles) {\n            roles.push({ role: role })\n        }\n\n        return (\n            <Table<{ role: string }>\n                columns={[\n                    { text: 'Role', keys: ['role'] }\n                ]}\n                data={roles}\n            />\n        )\n    }\n\n    public render() {\n        if (this.props.loading || !this.props.user) {\n            return (\n                <Page title=\"Loading...\">\n                    <Loading />\n                </Page>\n            )\n        }\n\n        return (\n            <Page title={this.props.user.displayName}>\n                <Row>\n                    <Column className=\"col-6\">\n                        <Panel title=\"Allgemeine Informationen\">\n                            <FormEntry id=\"displayName\" title=\"Name\">{this.props.user.displayName}</FormEntry>\n                        </Panel>\n                        <Panel title=\"Rechte\">\n                            {this.renderRolePart()}\n                        </Panel>\n                    </Column>\n                    <Column className=\"col-6\">\n                        <Panel title=\"Bexio Informationen\">\n                            {this.renderBexioPart()}\n                        </Panel>\n                    </Column>\n                </Row>\n            </Page>\n        )\n    }\n}\n\nconst mapStateToProps = (state: State, props: any) => {\n    return {\n        user: state.data.users.byId[props.match.params.id],\n        loading: state.data.users.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<State, undefined, AnyAction>, props: any) => {\n    return {\n        fetchUsers: () => {\n            dispatch(Data.fetchUsers())\n        }\n    }\n}\n\n\n//@ts-ignore\nexport const User = connect(mapStateToProps, mapDispatchToProps)(_User)"]},"metadata":{},"sourceType":"module"}