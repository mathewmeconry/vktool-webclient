{"ast":null,"code":"import _defineProperty from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/mathias/Documents/privat/VK/vk-tool/src/app/views/AddBillingReportSteps/AddBillingReportStep1.tsx\";\nimport React, { Component } from \"react\";\nimport WizardStep from \"../../components/WizardStep\";\n\nvar AddBillingReportStep1 =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddBillingReportStep1, _Component);\n\n  function AddBillingReportStep1(props) {\n    var _this;\n\n    _classCallCheck(this, AddBillingReportStep1);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddBillingReportStep1).call(this, props));\n    _this.onInputChange = _this.onInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.validate = _this.validate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      order: '',\n      date: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddBillingReportStep1, [{\n    key: \"renderOptions\",\n    value: function renderOptions() {\n      var options = [React.createElement(\"option\", {\n        key: \"none\",\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Bitte W\\xE4hlen\")];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.props.openOrders.ids[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var i = _step.value;\n          var _order = this.props.openOrders.byId[i];\n          options.push(React.createElement(\"option\", {\n            key: _order.documentNr,\n            value: _order._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26\n            },\n            __self: this\n          }, _order.title));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return options;\n    }\n  }, {\n    key: \"onInputChange\",\n    value: function onInputChange(event) {\n      var target = event.target;\n      var value = target.value;\n      var name = target.name; //@ts-ignore\n\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      if (this.formEl) {\n        var valid = this.formEl.checkValidity();\n        this.formEl.className = 'was-validated';\n\n        if (valid) {\n          this.props.onNext({\n            order: this.props.openOrders.byId[this.state.order],\n            date: new Date(this.state.date)\n          });\n        }\n\n        return valid;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(WizardStep, Object.assign({\n        title: \"Details\",\n        onNextStep: this.validate\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        ref: function ref(form) {\n          return _this2.formEl = form;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Einsatz\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        name: \"order\",\n        id: \"order\",\n        onChange: this.onInputChange,\n        value: this.state.order,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.renderOptions()), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Datum\"), React.createElement(\"input\", {\n        type: \"Date\",\n        name: \"date\",\n        id: \"date\",\n        className: \"form-control\",\n        value: this.state.date,\n        onChange: this.onInputChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AddBillingReportStep1;\n}(Component);\n\nexport { AddBillingReportStep1 as default };","map":{"version":3,"sources":["/home/mathias/Documents/privat/VK/vk-tool/src/app/views/AddBillingReportSteps/AddBillingReportStep1.tsx"],"names":["React","Component","WizardStep","AddBillingReportStep1","props","onInputChange","bind","validate","state","order","date","options","openOrders","ids","i","byId","push","documentNr","_id","title","event","target","value","name","setState","formEl","valid","checkValidity","className","onNext","Date","form","renderOptions"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { DataInterface } from \"../../reducers/DataReducer\";\nimport OrderModel from \"../../../shared/models/OrderModel\";\nimport WizardStep from \"../../components/WizardStep\";\nimport StringIndexed from \"../../interfaces/StringIndexed\";\n\nexport default class AddBillingReportStep1 extends Component<{ onNext: (data: StringIndexed<any>) => void, openOrders: DataInterface<OrderModel> }, { order: string, date: string }> {\n    private formEl?: HTMLFormElement\n\n    constructor(props: { onNext: (data: StringIndexed<any>) => void, openOrders: DataInterface<OrderModel> }) {\n        super(props)\n\n        this.onInputChange = this.onInputChange.bind(this)\n        this.validate = this.validate.bind(this)\n\n        this.state = {\n            order: '',\n            date: ''\n        }\n    }\n\n    private renderOptions() {\n        let options = [<option key=\"none\" value=\"\">Bitte WÃ¤hlen</option>]\n        for (let i of this.props.openOrders.ids) {\n            let order = this.props.openOrders.byId[i]\n            options.push(<option key={order.documentNr} value={order._id}>{order.title}</option>)\n        }\n\n        return options\n    }\n\n    private onInputChange(event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        //@ts-ignore\n        this.setState({\n            [name]: value\n        });\n    }\n\n    private validate(): boolean {\n        if (this.formEl) {\n            let valid = this.formEl.checkValidity()\n            this.formEl.className = 'was-validated'\n\n            if (valid) {\n                this.props.onNext({\n                    order: this.props.openOrders.byId[this.state.order],\n                    date: new Date(this.state.date)\n                })\n            }\n            return valid\n        }\n        return false\n    }\n\n    public render() {\n        return (\n            <WizardStep title=\"Details\" onNextStep={this.validate} {...this.props}>\n                <form ref={(form: HTMLFormElement) => this.formEl = form}>\n                    <h5>Einsatz</h5>\n                    <select className='form-control' name=\"order\" id=\"order\" onChange={this.onInputChange} value={this.state.order} required={true}>\n                        {this.renderOptions()}\n                    </select>\n                    <br></br>\n                    <h5>Datum</h5>\n                    <input type=\"Date\" name=\"date\" id=\"date\" className='form-control' value={this.state.date} onChange={this.onInputChange} required={true}></input>\n                </form>\n            </WizardStep>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}