{"ast":null,"code":"import _toConsumableArray from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/mathias/Documents/privat/VK/vk-tool/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/mathias/Documents/privat/VK/vk-tool/src/app/components/Table.tsx\";\nimport React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nvar Table =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Table, _Component);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Table).call(this, props));\n    _this.sortKey = '';\n    _this.sortDirection = 'asc';\n    _this.sortClick = _this.sortClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    if (_this.props.defaultSort) {\n      _this.sortKey = _this.props.defaultSort.keys.join('-');\n      _this.sortDirection = _this.props.defaultSort.direction;\n    }\n\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"sortClick\",\n    value: function sortClick(event) {\n      if (this.props.sortClick) {\n        var dataKey = event.target.dataset.key;\n\n        if (this.sortKey === dataKey) {\n          if (this.sortDirection === 'asc') {\n            this.sortDirection = 'desc';\n          } else {\n            this.sortDirection = 'asc';\n          }\n        } else {\n          this.sortKey = dataKey;\n          this.sortDirection = 'asc';\n        }\n\n        this.props.sortClick(event, this.sortKey.split('-'), this.sortDirection);\n      }\n    }\n  }, {\n    key: \"renderRows\",\n    value: function renderRows() {\n      var _this2 = this;\n\n      var rows = [];\n\n      var _loop = function _loop(id) {\n        //@ts-ignore\n        var dataEntry = _this2.props.data[id];\n        var row = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          var _loop2 = function _loop2() {\n            var column = _step.value;\n\n            if (column.content) {\n              row.push(React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 65\n                },\n                __self: this\n              }, column.content || ''));\n            } else {\n              var _content = [];\n\n              if (column.keys instanceof Array) {\n                _content = column.keys.map(function (key) {\n                  //@ts-ignore\n                  if (dataEntry[key] instanceof Date) {\n                    if (column.format) {\n                      //@ts-ignore\n                      return dataEntry[key][column.format]();\n                    } else {\n                      //@ts-ignore\n                      return dataEntry[key].toLocaleDateString();\n                    } //@ts-ignore\n\n                  } else if (typeof dataEntry[key] === 'boolean') {\n                    //@ts-ignore\n                    if (dataEntry[key]) {\n                      return '✓';\n                    }\n\n                    return '⨯';\n                  } //@ts-ignore\n\n\n                  return dataEntry[key];\n                });\n              } else {\n                var _loop3 = function _loop3(k) {\n                  _content = _content.concat(column.keys[k].map(function (key) {\n                    //@ts-ignore\n                    if (dataEntry[k][key] instanceof Date) {\n                      if (column.format) {\n                        //@ts-ignore\n                        return dataEntry[k][key][column.format]();\n                      } else {\n                        //@ts-ignore\n                        return dataEntry[k][key].toLocaleDateString();\n                      } //@ts-ignore\n\n                    } else if (typeof dataEntry[k][key] === 'boolean') {\n                      //@ts-ignore\n                      if (dataEntry[k][key]) {\n                        return '✓';\n                      }\n\n                      return '⨯';\n                    } //@ts-ignore\n\n\n                    return dataEntry[k][key];\n                  }));\n                };\n\n                for (var k in column.keys) {\n                  _loop3(k);\n                }\n              }\n\n              if (column.link) {\n                row.push(React.createElement(\"td\", {\n                  key: id + _content.join(' '),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 117\n                  },\n                  __self: this\n                }, React.createElement(\"a\", {\n                  key: id + _toConsumableArray(_content).concat(['a']).join(' '),\n                  href: (column.linkPrefix ? column.linkPrefix : '') + _content.join(' '),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 117\n                  },\n                  __self: this\n                }, (column.prefix ? column.prefix : '') + _content.join(' ') + (column.suffix ? column.suffix : ''))));\n              } else {\n                row.push(React.createElement(\"td\", {\n                  key: id + _content.join(' '),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 119\n                  },\n                  __self: this\n                }, (column.prefix ? column.prefix : '') + _content.join(' ') + (column.suffix ? column.suffix : '')));\n              }\n            }\n          };\n\n          for (var _iterator = _this2.props.columns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            _loop2();\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        rows.push(React.createElement(\"tr\", {\n          key: id,\n          \"data-key\": id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, row));\n      };\n\n      for (var id in this.props.data) {\n        _loop(id);\n      }\n\n      return rows;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"table-responsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        key: \"table-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.props.columns.map(function (column) {\n        var columnKey = '';\n\n        if (column.keys instanceof Array) {\n          columnKey = column.keys.join('-');\n        } else {\n          for (var k in column.keys) {\n            columnKey += '_' + k + '.' + column.keys[k].join('-');\n          }\n        }\n\n        var sortIndicator;\n\n        if (columnKey === _this3.sortKey) {\n          if (_this3.sortDirection === 'asc') {\n            sortIndicator = React.createElement(FontAwesomeIcon, {\n              icon: \"sort-down\",\n              className: \"float-right\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 147\n              },\n              __self: this\n            });\n          } else {\n            sortIndicator = React.createElement(FontAwesomeIcon, {\n              icon: \"sort-up\",\n              className: \"float-right\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 149\n              },\n              __self: this\n            });\n          }\n        }\n\n        if (column.sortable) {\n          return React.createElement(\"th\", {\n            key: columnKey,\n            \"data-key\": columnKey,\n            scope: \"col\",\n            onClick: _this3.sortClick,\n            style: {\n              cursor: 'pointer'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          }, column.text, sortIndicator);\n        }\n\n        return React.createElement(\"th\", {\n          key: columnKey,\n          \"data-key\": columnKey,\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, column.text);\n      }))), React.createElement(\"tbody\", {\n        key: \"table-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, this.renderRows())));\n    }\n  }]);\n\n  return Table;\n}(Component);\n\nexport { Table as default };","map":{"version":3,"sources":["/home/mathias/Documents/privat/VK/vk-tool/src/app/components/Table.tsx"],"names":["React","Component","FontAwesomeIcon","Table","props","sortKey","sortDirection","sortClick","bind","defaultSort","keys","join","direction","event","dataKey","target","dataset","key","split","rows","id","dataEntry","data","row","column","content","push","Array","map","Date","format","toLocaleDateString","k","concat","link","linkPrefix","prefix","suffix","columns","columnKey","sortIndicator","sortable","cursor","text","renderRows"],"mappings":"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","sourcesContent":["import React, { Component, MouseEvent } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport StringIndexed from \"../interfaces/StringIndexed\";\n\nexport interface TableColumn {\n    text: string\n    keys: Array<string> | { [index: string]: Array<string> }\n    content?: JSX.Element\n    link?: boolean\n    linkPrefix?: string,\n    sortable?: boolean,\n    prefix?: string\n    suffix?: string\n    format?: string\n}\n\ninterface TableProps<T> {\n    columns: Array<TableColumn>,\n    data: StringIndexed<T> | Array<T>,\n    sortClick?: (event: MouseEvent<HTMLTableHeaderCellElement>, clickedKeys: Array<string>, sortDirection: 'asc' | 'desc') => void,\n    defaultSort?: { keys: Array<string>, direction: 'asc' | 'desc' }\n}\n\nexport default class Table<T> extends Component<TableProps<T>> {\n    private sortKey: string = ''\n    private sortDirection: 'asc' | 'desc' = 'asc';\n\n    constructor(props: TableProps<T>) {\n        super(props)\n        this.sortClick = this.sortClick.bind(this)\n        if (this.props.defaultSort) {\n            this.sortKey = this.props.defaultSort.keys.join('-')\n            this.sortDirection = this.props.defaultSort.direction\n        }\n    }\n\n    private sortClick(event: MouseEvent<HTMLTableHeaderCellElement>) {\n        if (this.props.sortClick) {\n            let dataKey = (event.target as HTMLElement).dataset.key as string\n\n            if (this.sortKey === dataKey) {\n                if (this.sortDirection === 'asc') {\n                    this.sortDirection = 'desc'\n                } else {\n                    this.sortDirection = 'asc'\n                }\n            } else {\n                this.sortKey = dataKey\n                this.sortDirection = 'asc'\n            }\n\n            this.props.sortClick(event, this.sortKey.split('-'), this.sortDirection)\n        }\n    }\n\n    private renderRows() {\n        let rows = []\n        for (let id in this.props.data) {\n            //@ts-ignore\n            let dataEntry = this.props.data[id]\n            let row = []\n\n            for (let column of this.props.columns) {\n                if (column.content) {\n                    row.push(<td>{column.content || ''}</td>)\n                } else {\n                    let content: Array<string> = []\n                    if (column.keys instanceof Array) {\n                        content = column.keys.map((key) => {\n                            //@ts-ignore\n                            if (dataEntry[key] instanceof Date) {\n                                if (column.format) {\n                                    //@ts-ignore\n                                    return dataEntry[key][column.format]()\n                                } else {\n                                    //@ts-ignore\n                                    return dataEntry[key].toLocaleDateString()\n                                }\n                                //@ts-ignore\n                            } else if (typeof dataEntry[key] === 'boolean') {\n                                //@ts-ignore\n                                if (dataEntry[key]) {\n                                    return '✓'\n                                }\n                                return '⨯'\n                            }\n                            //@ts-ignore\n                            return dataEntry[key]\n                        })\n                    } else {\n                        for (let k in column.keys) {\n                            content = content.concat(column.keys[k].map((key) => {\n                                //@ts-ignore\n                                if (dataEntry[k][key] instanceof Date) {\n                                    if (column.format) {\n                                        //@ts-ignore\n                                        return dataEntry[k][key][column.format]()\n                                    } else {\n                                        //@ts-ignore\n                                        return dataEntry[k][key].toLocaleDateString()\n                                    }\n                                    //@ts-ignore\n                                } else if (typeof dataEntry[k][key] === 'boolean') {\n                                    //@ts-ignore\n                                    if (dataEntry[k][key]) {\n                                        return '✓'\n                                    }\n                                    return '⨯'\n                                }\n                                //@ts-ignore\n                                return dataEntry[k][key]\n                            }))\n                        }\n                    }\n\n                    if (column.link) {\n                        row.push(<td key={id + content.join(' ')}><a key={id + [...content, 'a'].join(' ')} href={((column.linkPrefix) ? column.linkPrefix : '') + content.join(' ')}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</a></td>)\n                    } else {\n                        row.push(<td key={id + content.join(' ')}>{((column.prefix) ? column.prefix : '') + content.join(' ') + ((column.suffix) ? column.suffix : '')}</td>)\n                    }\n                }\n            }\n            rows.push(<tr key={id} data-key={id}>{row}</tr>)\n        }\n\n        return rows\n    }\n\n    public render() {\n        return (\n            <div className=\"table-responsive\">\n                <table className=\"table table-striped\">\n                    <thead key=\"table-head\">\n                        <tr>\n                            {this.props.columns.map((column) => {\n                                let columnKey = ''\n                                if (column.keys instanceof Array) {\n                                    columnKey = column.keys.join('-')\n                                } else {\n                                    for (let k in column.keys) {\n                                        columnKey += '_' + k + '.' + column.keys[k].join('-')\n                                    }\n                                }\n                                let sortIndicator;\n                                if (columnKey === this.sortKey) {\n                                    if (this.sortDirection === 'asc') {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-down\" className=\"float-right\" />\n                                    } else {\n                                        sortIndicator = <FontAwesomeIcon icon=\"sort-up\" className=\"float-right\" />\n                                    }\n                                }\n                                if (column.sortable) {\n                                    return <th key={columnKey} data-key={columnKey} scope=\"col\" onClick={this.sortClick} style={{ cursor: 'pointer' }}>{column.text}{sortIndicator}</th>\n                                }\n                                return <th key={columnKey} data-key={columnKey} scope=\"col\">{column.text}</th>\n                            })}\n                        </tr>\n                    </thead>\n                    <tbody key=\"table-body\">\n                        {this.renderRows()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}