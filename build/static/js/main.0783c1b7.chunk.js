(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).className="col",a.props.className&&a.props.className.indexOf("col")>-1?a.className=a.props.className:a.props.className&&(a.className+=" "+a.props.className),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:this.className},this.props.children)}}]),t}(l.Component)},12:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=a(10),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e="navibar-open";return this.props.open||(e="navibar-collapsed"),c.a.createElement("div",{className:e+" content"},c.a.createElement("div",{className:"content-top"},c.a.createElement("h1",{className:"page-title"},this.props.title)),c.a.createElement("div",{className:"content-body container-fluid"},this.props.children))}}]),t}(l.Component),d=Object(u.b)(function(e){return{open:e.ui.navibar_open}})(p)},13:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e;return this.props.title&&(e=c.a.createElement("div",{className:"panel-header"},this.props.title)),c.a.createElement("div",{className:"panel"},e,c.a.createElement("div",{className:"panel-body"},this.props.children))}}]),t}(l.Component)},14:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"row "+this.props.className},this.props.children)}}]),t}(l.Component)},149:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return R});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(4),c=a(150),u=a.n(c),p=a(0),d=a.n(p),m=a(12),h=a(14),b=a(11),f=a(13),E=a(8),v=a(10),y=a(151),O=a(152),g=a(153),k=a(154),N=a(155),S=a(19),_=function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(o.a)(a).call(this,t))).onNext=r.onNext.bind(Object(l.a)(Object(l.a)(r))),r.save=r.save.bind(Object(l.a)(Object(l.a)(r))),e(function(){r.props.fetchOpenOrders(),r.props.fetchMembers()}),r.state={},r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"onNext",value:function(e){var t=this.state;for(var a in e)t[a]=e[a];this.setState(t)}},{key:"save",value:function(){var e={};for(var t in this.state.vks)e[t]=this.state.vks[t],e[t].member=this.state.vks[t].member._id;return this.props.save({orderId:this.state.order._id,date:this.state.date,compensationEntries:this.state.vks,food:this.state.food,remarks:this.state.remarks,creatorId:this.props.user._id}),this.props.history.push("/billing-reports"),!0}},{key:"render",value:function(){return this.props.loading?d.a.createElement(m.a,{title:"Verrechnungsrapport erfassen"},d.a.createElement(S.a,null)):d.a.createElement(m.a,{title:"Verrechnungsrapport erfassen"},d.a.createElement(h.a,null,d.a.createElement(b.a,{className:"col"},d.a.createElement(f.a,{title:""},d.a.createElement(u.a,{nav:d.a.createElement(y.a,null)},d.a.createElement(O.a,{openOrders:this.props.openOrders,onNext:this.onNext}),d.a.createElement(g.a,{members:this.props.members,onNext:this.onNext}),d.a.createElement(k.a,{onNext:this.onNext}),d.a.createElement(N.a,{onNext:this.save,order:this.state.order,date:this.state.date,vks:this.state.vks,food:this.state.food,remarks:this.state.remarks}))))))}}]),a}(p.Component),R=Object(v.b)(function(e){return{user:e.data.user.data,openOrders:e.data.openOrders,members:e.data.members,loading:e.data.openOrders.loading||e.data.members.loading||e.data.user.loading||!e.data.openOrders.ids||!e.data.members.ids||Object.keys(e.data.user.data).length<0}},function(e){return{fetchOpenOrders:function(){e(E.a.fetchOpenOrders())},fetchMembers:function(){e(E.a.fetchMembers())},save:function(t){e(E.a.addBillingReport(t))}}})(_)}).call(this,a(98).setImmediate)},151:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"renderSteps",value:function(){for(var e=[],t=this.props.totalSteps||0,a=1;a<=t;a++){var n="dot";a==this.props.currentStep&&(n+=" active"),e.push(c.a.createElement("span",{key:a,className:n},"\u2022"))}return e}},{key:"render",value:function(){return c.a.createElement("div",{key:"WizardNav",id:"WizardNav",className:"d-flex justify-content-center"},this.renderSteps())}}]),t}(l.Component)},152:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(35),r=a(2),i=a(3),o=a(6),s=a(5),l=a(7),c=a(4),u=a(0),p=a.n(u),d=a(36),m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).onInputChange=a.onInputChange.bind(Object(c.a)(Object(c.a)(a))),a.validate=a.validate.bind(Object(c.a)(Object(c.a)(a))),a.state={order:"",date:""},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"renderOptions",value:function(){var e=[p.a.createElement("option",{key:"none",value:""},"Bitte W\xe4hlen")],t=!0,a=!1,n=void 0;try{for(var r,i=this.props.openOrders.ids[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,s=this.props.openOrders.byId[o];e.push(p.a.createElement("option",{key:s.documentNr,value:s._id},s.title))}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"onInputChange",value:function(e){var t=e.target,a=t.value,r=t.name;this.setState(Object(n.a)({},r,a))}},{key:"validate",value:function(){if(this.formEl){var e=this.formEl.checkValidity();return this.formEl.className="was-validated",e&&this.props.onNext({order:this.props.openOrders.byId[this.state.order],date:new Date(this.state.date)}),e}return!1}},{key:"render",value:function(){var e=this;return p.a.createElement(d.a,Object.assign({title:"Details",onNextStep:this.validate},this.props),p.a.createElement("form",{ref:function(t){return e.formEl=t}},p.a.createElement("h5",null,"Einsatz"),p.a.createElement("select",{className:"form-control",name:"order",id:"order",onChange:this.onInputChange,value:this.state.order,required:!0},this.renderOptions()),p.a.createElement("br",null),p.a.createElement("h5",null,"Datum"),p.a.createElement("input",{type:"Date",name:"date",id:"date",className:"form-control",value:this.state.date,onChange:this.onInputChange,required:!0})))}}]),t}(u.Component)},153:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(35),r=a(2),i=a(3),o=a(6),s=a(5),l=a(7),c=a(4),u=a(0),p=a.n(u),d=a(30),m=a(85),h=(a(357),a(359),a(36)),b=a(85).Token,f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).renderMenuItem=a.renderMenuItem.bind(Object(c.a)(Object(c.a)(a))),a.renderToken=a.renderToken.bind(Object(c.a)(Object(c.a)(a))),a.filterBy=a.filterBy.bind(Object(c.a)(Object(c.a)(a))),a.onAdd=a.onAdd.bind(Object(c.a)(Object(c.a)(a))),a.onInputChange=a.onInputChange.bind(Object(c.a)(Object(c.a)(a))),a.onTypeaheadChange=a.onTypeaheadChange.bind(Object(c.a)(Object(c.a)(a))),a.removeTableItem=a.removeTableItem.bind(Object(c.a)(Object(c.a)(a))),a.validate=a.validate.bind(Object(c.a)(Object(c.a)(a))),a.state={tableEntries:{},vks:[],from:"",until:""},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"renderMenuItem",value:function(e){var t=this.props.members.byId[e];return p.a.createElement("div",null,t.firstname," ",t.lastname)}},{key:"renderToken",value:function(e,t,a){var n=this.props.members.byId[e];return p.a.createElement(b,{index:e,onRemove:t.onRemove},n.firstname," ",n.lastname)}},{key:"filterBy",value:function(e,t){var a=this.props.members.byId[e];return(a.firstname+" "+a.lastname).toLowerCase().indexOf(t.text.toLowerCase())>-1||(a.lastname+" "+a.firstname).toLowerCase().indexOf(t.text.toLowerCase())>-1}},{key:"onAdd",value:function(e){if(e.preventDefault(),this.formEl){var t=this.state.tableEntries,a=this.formEl.checkValidity();if(this.formEl.className="was-validated",a&&(a=this.state.vks.length>0),a){var n=new Date("1970-01-01 "+this.state.from),r=(new Date("1970-01-01 "+this.state.until).getTime()-n.getTime())/1e3/60/60;r<0&&(r+=24);var i=!0,o=!1,s=void 0;try{for(var l,c=this.state.vks[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;t[u]={member:this.props.members.byId[u],from:this.state.from,until:this.state.until,totalHours:r}}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}this.setState({tableEntries:t,vks:[],from:"",until:""})}}}},{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(Object(n.a)({},r,a))}},{key:"onTypeaheadChange",value:function(e){this.setState({vks:e})}},{key:"removeTableItem",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentElement){var t=e.currentTarget.parentNode.parentElement.getAttribute("data-key");if(t){var a=this.state.tableEntries;delete a[t],this.setState({tableEntries:a})}}}},{key:"validate",value:function(){return Object.keys(this.state.tableEntries).length>0&&(this.props.onNext({vks:this.state.tableEntries}),!0)}},{key:"render",value:function(){var e=this;return p.a.createElement(h.a,Object.assign({title:"Einsatzzeiten",onNextStep:this.validate},this.props),p.a.createElement("form",{ref:function(t){return e.formEl=t}},p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col"},p.a.createElement("h5",null,"VKs"),p.a.createElement(m.Typeahead,{name:"vks",labelKey:"vks",multiple:!0,selectHintOnEnter:!0,minLength:2,clearButton:!0,options:Object.keys(this.props.members.byId),placeholder:"VKs ausw\xe4hlen",renderMenuItemChildren:this.renderMenuItem,renderToken:this.renderToken,filterBy:this.filterBy,selected:this.state.vks,onChange:this.onTypeaheadChange}))),p.a.createElement("br",null),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col"},p.a.createElement("h5",null,"Von"),p.a.createElement("input",{type:"time",name:"from",value:this.state.from,onChange:this.onInputChange,className:"form-control",required:!0})),p.a.createElement("div",{className:"col"},p.a.createElement("h5",null,"Bis"),p.a.createElement("input",{type:"time",name:"until",value:this.state.until,onChange:this.onInputChange,className:"form-control",required:!0}))),p.a.createElement("br",null),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col"},p.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.onAdd},"Hinzuf\xfcgen")))),p.a.createElement("br",null),p.a.createElement("div",{className:"row"},p.a.createElement(d.a,{columns:[{text:"VK",keys:{member:["firstname","lastname"]}},{text:"Von",keys:["from"]},{text:"Bis",keys:["until"]},{text:"Anzahl Stunden",keys:["totalHours"]},{text:"Actions",keys:{member:["_id"]},content:p.a.createElement("button",{className:"btn btn-danger",onClick:this.removeTableItem},"\u2a2f")}],data:this.state.tableEntries})))}}]),t}(u.Component)},154:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(35),r=a(2),i=a(3),o=a(6),s=a(5),l=a(7),c=a(4),u=a(0),p=a.n(u),d=a(36),m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).onInputChange=a.onInputChange.bind(Object(c.a)(Object(c.a)(a))),a.onNext=a.onNext.bind(Object(c.a)(Object(c.a)(a))),a.state={food:!1,remarks:""},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(Object(n.a)({},r,a))}},{key:"onNext",value:function(){return this.props.onNext({food:this.state.food,remarks:this.state.remarks}),!0}},{key:"render",value:function(){return p.a.createElement(d.a,Object.assign({title:"Verschiedenes",onNextStep:this.onNext},this.props),p.a.createElement("h5",null,"Diverses"),p.a.createElement("span",{className:"switch switch-sm"},p.a.createElement("input",{type:"checkbox",className:"switch",id:"food",name:"food",checked:this.state.food,onChange:this.onInputChange}),p.a.createElement("label",{htmlFor:"food"},"Verpflegung")),p.a.createElement("br",null),p.a.createElement("h5",null,"Bemerkungen"),p.a.createElement("textarea",{name:"remarks",value:this.state.remarks,onChange:this.onInputChange,className:"form-control"}))}}]),t}(u.Component)},155:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=a(36),p=a(30),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(u.a,Object.assign({title:"Zusammenfassung",onNextStep:this.props.onNext},this.props),c.a.createElement("h5",null,"Einsatz"),c.a.createElement("p",null,this.props.order?this.props.order.title:""),c.a.createElement("h5",null,"Datum"),c.a.createElement("p",null,this.props.date?this.props.date.toLocaleDateString():""),c.a.createElement("h5",null,"VKs"),c.a.createElement(p.a,{columns:[{text:"VK",keys:{member:["firstname","lastname"]}},{text:"Von",keys:["from"]},{text:"Bis",keys:["until"]},{text:"Anzahl Stunden",keys:["totalHours"]}],data:this.props.vks?this.props.vks:{}}),c.a.createElement("h5",null,"Diverses"),c.a.createElement("p",{className:"switch switch-sm"},c.a.createElement("input",{type:"checkbox",className:"switch",id:"food",name:"food",checked:this.props.food}),c.a.createElement("label",{htmlFor:"food"},"Verpflegung")),c.a.createElement("h5",null,"Bemerkungen"),c.a.createElement("p",null,this.props.remarks?this.props.remarks:""))}}]),t}(l.Component)},160:function(e,t,a){e.exports=a(368)},19:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(0),c=a.n(l),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"loading-animation "+(this.props.fullscreen?"fullscreen":"")},c.a.createElement("div",{className:"sk-folding-cube"},c.a.createElement("div",{className:"sk-cube1 sk-cube"}),c.a.createElement("div",{className:"sk-cube2 sk-cube"}),c.a.createElement("div",{className:"sk-cube4 sk-cube"}),c.a.createElement("div",{className:"sk-cube3 sk-cube"})))}}]),t}(l.Component)},197:function(e,t,a){},29:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return v});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(4),c=a(0),u=a.n(c),p=a(12),d=a(14),m=a(11),h=a(13),b=a(30),f=a(23),E=a(19),v=function(t){function a(t){var r;return Object(n.a)(this,a),(r=Object(i.a)(this,Object(o.a)(a).call(this,t))).props.data.loading||e(function(){r.props.fetchData()}),r.elementView=r.elementView.bind(Object(l.a)(Object(l.a)(r))),r.sortClick=r.sortClick.bind(Object(l.a)(Object(l.a)(r))),r}return Object(s.a)(a,t),Object(r.a)(a,[{key:"elementView",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentNode&&e.currentTarget.parentNode.parentNode.parentElement){var t=e.currentTarget.parentNode.parentNode.parentElement.getAttribute("data-key");1==e.button?window.open(document.location.origin+this.props.viewLocation+t):this.props.history.push(this.props.viewLocation+t)}}},{key:"sortClick",value:function(e,t,a){this.props.onSort(t,a)}},{key:"textSearch",value:function(e){this.props.onSearch(e.target.value)}},{key:"renderTable",value:function(){if(this.props.data.loading)return u.a.createElement(E.a,null);var e={},t=!0,a=!1,n=void 0;try{for(var r,i=this.props.data.ids[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e[o]=this.props.data.byId[o]}}catch(s){a=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return u.a.createElement(b.a,{columns:this.props.tableColumns.concat([{text:"Actions",keys:["_id"],content:u.a.createElement("div",null,u.a.createElement("button",{className:"btn btn-success view",onMouseUp:this.elementView},u.a.createElement(f.a,{icon:"eye"})))}]),data:e,sortClick:this.sortClick,defaultSort:{keys:this.props.data.sort.keys,direction:this.props.data.sort.direction}})}},{key:"render",value:function(){var e=this;return u.a.createElement(p.a,{title:this.props.title},u.a.createElement(d.a,null,u.a.createElement(m.a,null,u.a.createElement(h.a,{title:u.a.createElement("input",{id:"search",defaultValue:this.props.data.filter,style:{width:"200px"},placeholder:"Search...",className:"float-right form-control form-control-sm",onChange:function(t){return e.textSearch(t)}})},this.renderTable()))))}}]),a}(c.Component)}).call(this,a(98).setImmediate)},30:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(159),r=a(2),i=a(3),o=a(6),s=a(5),l=a(7),c=a(4),u=a(0),p=a.n(u),d=a(23),m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).sortKey="",a.sortDirection="asc",a.sortClick=a.sortClick.bind(Object(c.a)(Object(c.a)(a))),a.props.defaultSort&&(a.sortKey=a.props.defaultSort.keys.join("-"),a.sortDirection=a.props.defaultSort.direction),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"sortClick",value:function(e){if(this.props.sortClick){var t=e.target.dataset.key;this.sortKey===t?"asc"===this.sortDirection?this.sortDirection="desc":this.sortDirection="asc":(this.sortKey=t,this.sortDirection="asc"),this.props.sortClick(e,this.sortKey.split("-"),this.sortDirection)}}},{key:"renderRows",value:function(){var e=this,t=[],a=function(a){var r=e.props.data[a],i=[],o=!0,s=!1,l=void 0;try{for(var c,u=function(){var e=c.value;if(e.content)i.push(p.a.createElement("td",null,e.content||""));else{var t=[];if(e.keys instanceof Array)t=e.keys.map(function(t){return r[t]instanceof Date?e.format?r[t][e.format]():r[t].toLocaleDateString():"boolean"===typeof r[t]?r[t]?"\u2713":"\u2a2f":r[t]});else{var o=function(a){t=t.concat(e.keys[a].map(function(t){return r[a][t]instanceof Date?e.format?r[a][t][e.format]():r[a][t].toLocaleDateString():"boolean"===typeof r[a][t]?r[a][t]?"\u2713":"\u2a2f":r[a][t]}))};for(var s in e.keys)o(s)}e.link?i.push(p.a.createElement("td",{key:a+t.join(" ")},p.a.createElement("a",{key:a+Object(n.a)(t).concat(["a"]).join(" "),href:(e.linkPrefix?e.linkPrefix:"")+t.join(" ")},(e.prefix?e.prefix:"")+t.join(" ")+(e.suffix?e.suffix:"")))):i.push(p.a.createElement("td",{key:a+t.join(" ")},(e.prefix?e.prefix:"")+t.join(" ")+(e.suffix?e.suffix:"")))}},d=e.props.columns[Symbol.iterator]();!(o=(c=d.next()).done);o=!0)u()}catch(m){s=!0,l=m}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}t.push(p.a.createElement("tr",{key:a,"data-key":a},i))};for(var r in this.props.data)a(r);return t}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:"table-responsive"},p.a.createElement("table",{className:"table table-striped"},p.a.createElement("thead",{key:"table-head"},p.a.createElement("tr",null,this.props.columns.map(function(t){var a,n="";if(t.keys instanceof Array)n=t.keys.join("-");else for(var r in t.keys)n+="_"+r+"."+t.keys[r].join("-");return n===e.sortKey&&(a="asc"===e.sortDirection?p.a.createElement(d.a,{icon:"sort-down",className:"float-right"}):p.a.createElement(d.a,{icon:"sort-up",className:"float-right"})),t.sortable?p.a.createElement("th",{key:n,"data-key":n,scope:"col",onClick:e.sortClick,style:{cursor:"pointer"}},t.text,a):p.a.createElement("th",{key:n,"data-key":n,scope:"col"},t.text)}))),p.a.createElement("tbody",{key:"table-body"},this.renderRows())))}}]),t}(u.Component)},36:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var n=a(2),r=a(3),i=a(6),o=a(5),s=a(7),l=a(4),c=a(0),u=a.n(c),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).previousStep=a.previousStep.bind(Object(l.a)(Object(l.a)(a))),a.nextStep=a.nextStep.bind(Object(l.a)(Object(l.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"nextStep",value:function(){var e=!0;this.props.onNextStep&&(e=this.props.onNextStep()),e&&this.props.nextStep&&this.props.nextStep()}},{key:"previousStep",value:function(){this.props.onPreviousStep&&this.props.onPreviousStep(),this.props.previousStep&&this.props.previousStep()}},{key:"render",value:function(){var e="Weiter",t="btn btn-primary";return this.props.currentStep===this.props.totalSteps&&(e="Speichern",t="btn btn-success"),u.a.createElement("div",null,u.a.createElement("div",{className:"wizard-step-header"},u.a.createElement("h4",null,this.props.title)),u.a.createElement("div",{className:"wizard-step-body"},this.props.children),u.a.createElement("div",{className:"d-flex justify-content-between wizard-step-footer"},u.a.createElement("button",{className:"btn btn-secondary",onClick:this.previousStep},"Zur\xfcck"),u.a.createElement("button",{className:t,onClick:this.nextStep},e)))}}]),t}(c.Component)},368:function(e,t,a){"use strict";a.r(t);var n=a(46),r=a(17),i=a(145);n.b.add(r.a,r.m,r.p,r.c,r.n,r.b,r.l,r.k,r.i,r.f,r.e,r.g,r.j,r.h,r.d,r.d,i.a,r.o);var o=a(0),s=a.n(o),l=a(18),c=a.n(l),u=a(2),p=a(3),d=a(6),m=a(5),h=a(7),b=a(10),f=a(26),E=a(9),v=a(47);var y=Object(f.c)({navibar_open:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case E.b.NAVIBAR_TOGGLE:return!e;default:return e}},navibar_level:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b.NAVIBAR_LEVEL_OPEN:return t.payload;case E.b.NAVIBAR_LEVEL_COLLAPSE:return"";default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.b.NOTIFICATION_SUCCESS:return v.toast.success(t.payload),e;case E.b.NOTIFICATION_ERROR:return v.toast.error(t.payload),e;default:return e}}}),O=a(8);var g=Object(f.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,data:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.b.FETCH_USER:return Object.assign({},e,{loading:!0});case O.b.GOT_USER:return Object.keys(t.payload).length>0?{loading:!1,data:t.payload}:{loading:!1,data:void 0};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["displayName"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r=["displayName"];switch(t.type){case O.b.FETCH_USERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_USERS:var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;a[u._id]=u,n.push(u._id)}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t.payload="",n=k(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,t),n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),t),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_USERS:return Object.assign({},e,{ids:k(e,r,t),filter:t.payload});case E.b.SORT_USERS:return Object.assign({},e,{ids:N(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["firstname"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case O.b.FETCH_CONTACTS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_CONTACTS:var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c._id]=c,n.push(c._id)}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["firstname"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r=["firstname","lastname","address","postcode","city","mail","mailSecond","phoneFixed","phoneFixedSecond","phoneMobile"];switch(t.type){case O.b.FETCH_MEMBERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_MEMBERS:var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;a[u._id]=u,n.push(u._id)}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t.payload="",n=k(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,t),n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),t),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_MEMBERS:return Object.assign({},e,{ids:k(e,r,t),filter:t.payload});case E.b.SORT_MEMBERS:return Object.assign({},e,{ids:N(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}},ranks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["name"],direction:"asc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case O.b.FETCH_RANKS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_RANKS:var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c._id]=c,n.push(c._id)}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["documentNr"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r=["documentNr","title"];switch(t.type){case O.b.FETCH_ORDERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_ORDERS:var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;a[u._id]=u,n.push(u._id)}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t.payload="",n=k(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,t),n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),t),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_ORDERS:return Object.assign({},e,{ids:k(e,r,t),filter:t.payload});case E.b.SORT_ORDERS:return Object.assign({},e,{ids:N(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}},openOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["title"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[];switch(t.type){case O.b.FETCH_OPEN_ORDERS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_OPEN_ORDERS:var r=!0,i=!1,o=void 0;try{for(var s,l=t.payload[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;a[c._id]=c,n.push(c._id)}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return t.payload="",n=k(Object.assign({},e,{loading:!1,byId:a,ids:n}),["documentNr","title"],t),n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),t),Object.assign({},e,{loading:!1,byId:a,ids:n});default:return e}},billingReports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["orderDate"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r={order:["documentNr","title"]};switch(t.type){case O.b.FETCH_BILLING_REPORTS:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_BILLING_REPORTS:var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;a[u._id]=u,n.push(u._id)}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t.payload="",n=k(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,t),n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),t),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_BILLING_REPORTS:return Object.assign({},e,{ids:k(e,r,t),filter:t.payload});case E.b.SORT_BILLING_REPORTS:return Object.assign({},e,{ids:N(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});case O.b.APPROVE_BILLING_REPORT:return a=Object.assign({},e.byId,Object.assign({},e.byId[t.payload],{status:"approved"})),Object.assign({},e,{byId:a});default:return e}},compensationEntries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,byId:{},ids:[],filter:"",sort:{keys:["date"],direction:"desc"}},t=arguments.length>1?arguments[1]:void 0,a={},n=[],r={member:["firstname","lastname"],amount:{},creator:["displayName"]};switch(t.type){case O.b.FETCH_COMPENSATION_ENTRIES:return 0===e.ids.length?Object.assign({},e,{loading:!0}):Object.assign({},e,{loading:!1});case O.b.GOT_COMPENSATION_ENTRIES:var i=!0,o=!1,s=void 0;try{for(var l,c=t.payload[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;a[u._id]=u,n.push(u._id)}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return t.payload="",n=k(Object.assign({},e,{loading:!1,byId:a,ids:n}),r,t),n=N(Object.assign({},e,{loading:!1,byId:a,ids:n}),t),Object.assign({},e,{loading:!1,byId:a,ids:n});case E.b.SEARCH_COMPENSATION_ENTRIES:return Object.assign({},e,{ids:k(e,r,t),filter:t.payload});case E.b.SORT_COMPENSATION_ENTRIES:return Object.assign({},e,{ids:N(e,t),sort:{keys:t.payload.keys,direction:t.payload.direction}});default:return e}}}),k=function(e,t,a){var n=[],r=a.payload||e.filter;if(r)for(var i in e.byId){var o=e.byId[i],s="";for(var l in t){var c=t[l];if(c instanceof Array){var u=!0,p=!1,d=void 0;try{for(var m,h=c[Symbol.iterator]();!(u=(m=h.next()).done);u=!0){var b=m.value;b.indexOf("phone")>-1&&(s+=o[l][b].toString().replace(" ","")+" "),s+=o[l][b].toString()+" "}}catch(E){p=!0,d=E}finally{try{u||null==h.return||h.return()}finally{if(p)throw d}}}else c.indexOf("phone")>-1&&(s+=o[c].toString().replace(" ","")+" "),s+=o[c].toString()+" "}s.toLowerCase().indexOf(r.toLowerCase())>-1&&n.push(o._id)}else for(var f in e.byId)n.push(f);return n},N=function(e,t){var a=t.payload.keys||e.sort.keys,n=t.payload.direction||e.sort.direction,r=[],i=!0,o=!1,s=void 0;try{for(var l,c=e.ids[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,p=e.byId[u],d=[],m=!0,h=!1,b=void 0;try{for(var f,E=a[Symbol.iterator]();!(m=(f=E.next()).done);m=!0){var v=f.value;v.indexOf("phone")>-1?d.push(p[v].replace(" ","")):d.push(p[v])}}catch(y){h=!0,b=y}finally{try{m||null==E.return||E.return()}finally{if(h)throw b}}r.push({id:u,value:d.join(" ").toLowerCase()})}}catch(y){o=!0,s=y}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}return r.sort(function(e,t){var a,r;return a=parseFloat(e.value),r=parseFloat(t.value),(isNaN(a)||isNaN(r))&&(a=e.value,r=t.value),a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0}),r.map(function(e){return e.id})},S=Object(f.c)({ui:y,data:g}),_=a(148);var R,j=a(372),C=a(373),I=a(369),T=a(371),x=a(23),A=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e="navibar-open";return this.props.open||(e="navibar-collapsed"),this.props.user?s.a.createElement("div",{id:"header"},s.a.createElement("div",{id:"header-title",className:e},s.a.createElement("div",{id:"user"},this.props.user.displayName)),s.a.createElement("div",{id:"header-bars",onClick:this.props.onClick},s.a.createElement("span",null,s.a.createElement(x.a,{icon:"bars"})))):s.a.createElement("div",null)}}]),t}(o.Component),w=Object(b.b)(function(e){return{open:e.ui.navibar_open,user:e.data.user.data}},function(e){return{onClick:function(){e(E.a.toggleNavibar())}}})(A),D=a(370),L=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;return this.props.icon&&(e=s.a.createElement(x.a,{icon:this.props.icon,className:"navibar-element-icon"})),this.props.to?s.a.createElement(D.a,{exact:!0,to:this.props.to,className:"navibar-element",activeClassName:"navibar-element-active",onMouseUp:this.props.onMouseUp},s.a.createElement("li",null,e,s.a.createElement("p",{className:"navibar-element-text"},this.props.text))):s.a.createElement("li",{className:"navibar-element",onMouseUp:this.props.onMouseUp},e,s.a.createElement("p",{className:"navibar-element-text"},this.props.text))}}]),t}(o.Component),M=a(4),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).onClick=a.onClick.bind(Object(M.a)(Object(M.a)(a))),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"onClick",value:function(e){this.props.open_level===this.props.id?this.props.onClose(this.props.id):this.props.onOpen(this.props.id)}},{key:"render",value:function(){var e="";return this.props.id!==this.props.open_level&&(e=" level-collapsed"),s.a.createElement("div",null,s.a.createElement(L,{icon:this.props.icon,text:this.props.text,onMouseUp:this.onClick}),s.a.createElement("div",{key:"levelContainer-"+this.props.id,className:"level-container level-"+this.props.level.toString()+e},this.props.children))}}]),t}(o.Component),B=Object(b.b)(function(e){return{open_level:e.ui.navibar_level}},function(e){return{onOpen:function(t){e(E.a.openNavibarLevel(t))},onClose:function(t){e(E.a.collapseNavibarLevel(t))}}})(P);!function(e){e.AUTHENTICATED="authenticated",e.CONTACTS_READ="contacts_read",e.CONTACTS_EDIT="contacts_edit",e.MEMBERS_READ="members_read",e.MEMBERS_EDIT="members_edit",e.RANKS_READ="ranks_read",e.RANKS_EDIT="ranks_edit",e.ORDERS_READ="orders_read",e.ORDERS_EDIT="orders_edit",e.COMPENSATIONS_READ="compensation_read",e.COMPENSATIONS_CREATE="compensation_create",e.COMPENSATIONS_EDIT="compensation_edit",e.COMPENSATIONS_APPROVE="compensation_approve",e.BILLINGREPORTS_READ="billingreports_read",e.BILLINGREPORTS_CREATE="billingreports_create",e.BILLINGREPORTS_EDIT="billingreports_edit",e.ADMIN="admin"}(R||(R={}));var F=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderElement",value:function(e,t){return t?this.props.user&&(this.props.user.roles.indexOf(t)>-1||this.props.user.roles.indexOf(R.ADMIN)>-1)?e:void 0:e}},{key:"render",value:function(){var e="navibar-open";return this.props.open||(e="navibar-collapsed"),this.props.user?s.a.createElement("div",{id:"navibar",className:e},s.a.createElement("ol",null,this.renderElement(s.a.createElement(L,{to:"/dashboard",text:"Dashboard",icon:"tachometer-alt"}),R.AUTHENTICATED),this.renderElement(s.a.createElement(L,{to:"/members",text:"Mitglieder",icon:"users"}),R.MEMBERS_READ),this.renderElement(s.a.createElement(L,{to:"/orders",text:"Auftr\xe4ge",icon:"file-alt"}),R.ORDERS_READ),this.renderElement(s.a.createElement(B,{text:"Verrechnungsrapporte",icon:"file-signature",id:"billingreports",level:1},this.renderElement(s.a.createElement(L,{to:"/billing-reports/add",icon:"plus",text:"Erstellen"}),R.BILLINGREPORTS_CREATE),s.a.createElement(L,{to:"/billing-reports",icon:"list",text:"Alle"})),R.BILLINGREPORTS_READ),this.renderElement(s.a.createElement(B,{text:"Entsch\xe4digungen",icon:"dollar-sign",id:"compensations",level:1},this.renderElement(s.a.createElement(L,{to:"/compensations/add",icon:"plus",text:"Erstellen"}),R.COMPENSATIONS_CREATE),s.a.createElement(L,{to:"/compensations",icon:"list",text:"Alle"})),R.COMPENSATIONS_READ),this.renderElement(s.a.createElement(L,{to:"/users",text:"Benutzer",icon:"user"}),R.ADMIN))):s.a.createElement("div",null)}}]),t}(o.Component),G=Object(b.b)(function(e){return{open:e.ui.navibar_open,user:e.data.user.data}},{},null,{pure:!1})(F),H=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.user&&(this.props.user.roles.indexOf(this.props.role)>-1||this.props.user.roles.indexOf(R.ADMIN)>-1)?s.a.createElement(I.a,{exact:this.props.exact,path:this.props.path,component:this.props.component}):s.a.createElement(I.a,{exact:this.props.exact,path:this.props.path,component:function(){return s.a.createElement(T.a,{push:!0,to:"/login"})}})}}]),t}(o.Component),V=Object(b.b)(function(e){return{user:e.data.user.data}})(H),z=(a(197),a(199),a(12)),U=a(13),K=a(11),W=a(14),q=a(196),Z=a(19),J=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"renderShortcuts",value:function(){var e=[s.a.createElement(q.a,{to:"/billing-reports/add/",className:"btn btn-block btn-outline-primary"},"Verrechnungsrapport erstellen")];return this.props.user.bexioContact&&e.push(s.a.createElement(q.a,{to:"/contact/"+this.props.user.bexioContact._id,className:"btn btn-block btn-outline-primary"},"Mein Profil")),e}},{key:"render",value:function(){return this.props.loading||!this.props.user?s.a.createElement(z.a,{title:"Dashboard"},s.a.createElement(Z.a,null)):s.a.createElement(z.a,{title:"Dashboard"},s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col-4"},s.a.createElement(U.a,{title:"Shortcuts"},this.renderShortcuts())),s.a.createElement(K.a,{className:"col-8"},s.a.createElement(U.a,{title:"Test Wide"},"This works!"))))}}]),t}(o.Component),Y=Object(b.b)(function(e,t){return{user:e.data.user.data,loading:e.data.user.loading}},function(e,t){return{fetchUser:function(){e(O.a.fetchUser())}}})(J),$=a(29),Q=Object(b.b)(function(e){return{data:e.data.members,title:"Mitglieder",viewLocation:"/contact/",tableColumns:[{text:"Name",keys:["firstname","lastname"],sortable:!0},{text:"Addresse",keys:["address","postcode","city"],link:!0,linkPrefix:"https://www.google.com/maps/place/",sortable:!0},{text:"Festnetz",keys:["phoneFixed"],link:!0,linkPrefix:"tel:",sortable:!0},{text:"Festnetz 2",keys:["phoneFixedSecond"],link:!0,linkPrefix:"tel:",sortable:!0},{text:"Mobile",keys:["phoneMobile"],link:!0,linkPrefix:"tel:",sortable:!0},{text:"E-Mail",keys:["mail"],link:!0,linkPrefix:"mailto:",sortable:!0},{text:"E-Mail 2",keys:["mailSecond"],link:!0,linkPrefix:"mailto:",sortable:!0}]}},function(e){return{fetchData:function(){e(O.a.fetchMembers())},onSearch:function(t){e(E.a.searchMembers(t))},onSort:function(t,a){e(E.a.sortMembers(t,a))}}})($.a),X=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col-6"},this.props.title),s.a.createElement(K.a,{className:"col-6"},this.props.children))}}]),t}(o.Component),ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).rank="",a.groups=[],a.props.contact||a.props.loading||a.props.loadContacts(),0!==a.props.ranks.ids.length||a.props.loading||a.props.loadRanks(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;if(this.props.loading||!this.props.contact)return s.a.createElement(z.a,{title:"Kontakt"},s.a.createElement(Z.a,null));this.groups=this.props.contact.contactGroups;var t=!0,a=!1,n=void 0;try{for(var r,i=function(){var t=r.value,a=e.groups.find(function(e){return e._id===t});if(a)return e.rank=a.name,"break"},o=this.props.ranks.ids[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){if("break"===i())break}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return s.a.createElement(z.a,{title:this.props.contact.firstname+" "+this.props.contact.lastname},s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col-6"},s.a.createElement(U.a,{title:"Pers\xf6nliche Informationen"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement(X,{id:"firstname",title:"Vorname"},this.props.contact.firstname),s.a.createElement(X,{id:"lastname",title:"Nachname"},this.props.contact.lastname),s.a.createElement(X,{id:"rank",title:"Rang"},this.rank),s.a.createElement(X,{id:"birthday",title:"Geburtstag"},new Date(this.props.contact.birthday).toLocaleDateString("de-CH",{year:"numeric",month:"numeric",day:"numeric"})),s.a.createElement(X,{id:"mail",title:"E-Mail"},s.a.createElement("a",{href:"mailto:"+this.props.contact.mail},this.props.contact.mail)),s.a.createElement(X,{id:"mailSecond",title:"E-Mail 2"},s.a.createElement("a",{href:"mailto:"+this.props.contact.mailSecond},this.props.contact.mailSecond)),s.a.createElement(X,{id:"phoneFixed",title:"Festnetz"},s.a.createElement("a",{href:"tel:"+this.props.contact.phoneFixed},this.props.contact.phoneFixed)),s.a.createElement(X,{id:"phoneFixedSecond",title:"Festnetz 2"},s.a.createElement("a",{href:"tel:"+this.props.contact.phoneFixedSecond},this.props.contact.phoneFixedSecond)),s.a.createElement(X,{id:"phoneMobile",title:"Mobile"},s.a.createElement("a",{href:"tel:"+this.props.contact.phoneMobile},this.props.contact.phoneMobile)),s.a.createElement(X,{id:"groups",title:"Gruppen"},this.groups?this.groups.map(function(e){return s.a.createElement("span",{className:"badge badge-primary"},e.name)}):""),s.a.createElement(X,{id:"remarks",title:"Bemerkungen"},this.props.contact.remarks)))),s.a.createElement(K.a,{className:"col-6"},s.a.createElement(U.a,{title:"Actions"},s.a.createElement("a",{target:"_blank",href:"https://office.bexio.com/index.php/kontakt/show/id/"+this.props.contact.bexioId,className:"btn btn-block btn-outline-primary"},"In Bexio anschauen"),s.a.createElement("a",{target:"_blank",href:"https://vkazu.sharepoint.com/leitung/Personalakten?viewpath=/leitung/Personalakten&id=/leitung/Personalakten/"+this.props.contact.firstname+" "+this.props.contact.lastname,className:"btn btn-block btn-outline-primary"},"Personalakte \xf6ffnen")))))}}]),t}(o.Component),te=Object(b.b)(function(e,t){return{contact:e.data.contacts.byId[t.match.params.id]||e.data.members.byId[t.match.params.id],ranks:e.data.ranks,loading:e.data.contacts.loading||e.data.ranks.loading||e.data.members.loading}},function(e,t){return{loadContacts:function(){e(O.a.fetchContacts())},loadRanks:function(){e(O.a.fetchRanks())}}})(ee),ae=Object(b.b)(function(e){return{data:e.data.orders,viewLocation:"/order/",title:"Auftr\xe4ge",tableColumns:[{text:"Auftragsnummer",keys:["documentNr"],sortable:!0},{text:"Titel",keys:["title"],sortable:!0},{text:"Total",keys:["total"],sortable:!0,prefix:"CHF ",suffix:".-"}]}},function(e){return{fetchData:function(){e(O.a.fetchOrders())},onSearch:function(t){e(E.a.searchOrders(t))},onSort:function(t,a){e(E.a.sortOrders(t,a))}}})($.a),ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).props.order||a.props.loading||a.props.loadOrders(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderPositions",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=this.props.order.positions[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e.push(s.a.createElement(W.a,{className:"position"},s.a.createElement(K.a,{className:"col-1"},o.pos),s.a.createElement(K.a,null,s.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.text}})),o.positionTotal?s.a.createElement(K.a,{className:"col-2"},"CHF ",o.positionTotal,".-"):""))}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){return this.props.loading||!this.props.order?s.a.createElement(z.a,{title:"Loading..."}):(this.props.order.execDates instanceof Date&&(this.props.order.execDates=[this.props.order.execDates]),s.a.createElement(z.a,{title:this.props.order.title},s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col-md-6"},s.a.createElement(U.a,{title:"Informationen"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement(X,{id:"title",title:"Titel"},this.props.order.title),s.a.createElement(X,{id:"documentNr",title:"Auftragsnummer"},this.props.order.documentNr),s.a.createElement(X,{id:"executionDates",title:"Auftragsdaten"},this.props.order.execDates?this.props.order.execDates.map(function(e){return s.a.createElement("span",{className:"badge badge-secondary"},e.toLocaleDateString())}):""))))),s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col"},s.a.createElement(U.a,{title:"Positionen"},s.a.createElement("div",{className:"container-fluid"},this.renderPositions(),s.a.createElement(W.a,{className:"position"},s.a.createElement(K.a,{className:"col-1"}),s.a.createElement(K.a,null,s.a.createElement("strong",null,"Total")),s.a.createElement(K.a,{className:"col-2"},"CHF ",this.props.order.total,".-"))))))))}}]),t}(o.Component),re=Object(b.b)(function(e,t){return{order:e.data.orders.byId[t.match.params.id],loading:e.data.orders.loading}},function(e,t){return{loadOrders:function(){e(O.a.fetchOrders())}}})(ne),ie=Object(b.b)(function(e){return{data:e.data.billingReports,title:"Verrechnungsrapporte",viewLocation:"/billing-report/",tableColumns:[{text:"Datum",keys:["orderDate"],sortable:!0},{text:"Auftrag Nr",keys:{order:["documentNr"]},sortable:!0},{text:"Auftrag Titel",keys:{order:["title"]},sortable:!0},{text:"Ersteller",keys:{creator:["displayName"]},sortable:!0},{text:"Status",keys:["status"],sortable:!0}]}},function(e){return{fetchData:function(){e(O.a.fetchBillingReports())},onSearch:function(t){e(E.a.searchBillingReports(t))},onSort:function(t,a){e(E.a.sortBillingReports(t,a))}}})($.a),oe=Object(b.b)(function(e){return{data:e.data.compensationEntries,title:"Entsch\xe4digungen",viewLocation:"/compensations/",tableColumns:[{text:"Mitglied",keys:{member:["firstname","lastname"]},sortable:!0},{text:"Datum",keys:["date"],sortable:!0},{text:"Betrag",keys:["amount"],sortable:!0,prefix:"CHF ",suffix:".-"},{text:"Ersteller",keys:{creator:["displayName"]},sortable:!0},{text:"Genehmigt",keys:["approved"],sortable:!0},{text:"Ausbezahlt",keys:["paied"],sortable:!0}]}},function(e){return{fetchData:function(){e(O.a.fetchCompensationEntries())},onSearch:function(t){e(E.a.searchCompensationEntries(t))},onSort:function(t,a){e(E.a.sortCompensationEntries(t,a))}}})($.a),se=a(149),le=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchUser(),"?error"===this.props.location.search&&this.props.showError()}},{key:"render",value:function(){return this.props.user.data?(this.props.history.goBack(),null):this.props.user.loading?s.a.createElement(Z.a,{fullscreen:!0}):s.a.createElement("div",{id:"login"},s.a.createElement("h2",null,"Login"),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"username",placeholder:"Username",className:"form-control"}),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"form-control"}),s.a.createElement("button",{className:"btn btn-primary btn-block"},"Login")),"oder",s.a.createElement("div",{className:"form-group"},s.a.createElement("a",{className:"btn btn-secondary btn-block",href:"https://vkazutool.azurewebsites.net/api/auth/outlook"},s.a.createElement(x.a,{icon:"microsoft"}),"VK-Login")))}}]),t}(o.Component),ce=Object(b.b)(function(e){return{user:e.data.user}},function(e){return{fetchUser:function(){e(O.a.fetchUser())},showError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooppss...! Versuche es sp\xe4ter erneut";e(E.a.showError(t))}}})(le),ue=Object(b.b)(function(e){return{data:e.data.users,viewLocation:"/user/",title:"Benutzer",tableColumns:[{text:"Name",keys:["displayName"],sortable:!0},{text:"Rechte",keys:["roles"],sortable:!0}]}},function(e){return{fetchData:function(){e(O.a.fetchUsers())},onSearch:function(t){e(E.a.searchUsers(t))},onSort:function(t,a){e(E.a.sortUsers(t,a))}}})($.a),pe=a(30),de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).props.fetchUsers(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderBexioPart",value:function(){if(!this.props.user.bexioContact)return s.a.createElement("span",null,"Kein Link gefunden....");var e=this.props.user.bexioContact;return s.a.createElement("div",null,s.a.createElement(X,{id:"bexioId",title:"ID"},e.bexioId),s.a.createElement(X,{id:"firstname",title:"Vorname"},e.firstname),s.a.createElement(X,{id:"lastname",title:"Nachname"},e.lastname),s.a.createElement(q.a,{to:"/contact/"+e._id,className:"btn btn-block btn-outline-primary"},"Kontakt \xf6ffnen"),s.a.createElement("a",{target:"_blank",href:"https://office.bexio.com/index.php/kontakt/show/id/"+e.bexioId,className:"btn btn-block btn-outline-primary"},"In Bexio anschauen"))}},{key:"renderRolePart",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=this.props.user.roles[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e.push({role:o})}}catch(l){a=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return s.a.createElement(pe.a,{columns:[{text:"Role",keys:["role"]}],data:e})}},{key:"render",value:function(){return this.props.loading||!this.props.user?s.a.createElement(z.a,{title:"Loading..."},s.a.createElement(Z.a,null)):s.a.createElement(z.a,{title:this.props.user.displayName},s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col-6"},s.a.createElement(U.a,{title:"Allgemeine Informationen"},s.a.createElement(X,{id:"displayName",title:"Name"},this.props.user.displayName)),s.a.createElement(U.a,{title:"Rechte"},this.renderRolePart())),s.a.createElement(K.a,{className:"col-6"},s.a.createElement(U.a,{title:"Bexio Informationen"},this.renderBexioPart()))))}}]),t}(o.Component),me=Object(b.b)(function(e,t){return{user:e.data.users.byId[t.match.params.id],loading:e.data.users.loading}},function(e,t){return{fetchUsers:function(){e(O.a.fetchUsers())}}})(de),he=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).approve=a.approve.bind(Object(M.a)(Object(M.a)(a))),a.billingReport=a.props.billingReports.byId[a.props.match.params.id],a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.billingReport=e.billingReports.byId[e.match.params.id]}},{key:"componentWillMount",value:function(){this.props.fetchBillingReports()}},{key:"approve",value:function(){this.props.approve(this.billingReport._id)}},{key:"elementView",value:function(e){if(e.currentTarget.parentNode&&e.currentTarget.parentNode.parentNode&&e.currentTarget.parentNode.parentNode.parentElement){var t=e.currentTarget.parentNode.parentNode.parentElement.getAttribute("data-key");1==e.button?window.open(document.location.origin+"/compensation/"+t):this.props.history.push("/compensation/"+t)}}},{key:"prepareCompensationsForTable",value:function(){var e={},t=!0,a=!1,n=void 0;try{for(var r,i=this.billingReport.compensations[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e[o._id]=o}}catch(s){a=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"renderActions",value:function(){var e=[s.a.createElement("button",{id:"edit",className:"btn btn-block btn-outline-warning"},"Editieren")];return"pending"===this.billingReport.status&&e.push(s.a.createElement("button",{id:"approve",className:"btn btn-block btn-outline-success",onClick:this.approve},"Genehmigen")),e}},{key:"render",value:function(){if(this.props.loading||!this.billingReport)return s.a.createElement(z.a,{title:"Verrechnungsrapport"},s.a.createElement(Z.a,null));var e="badge-success";return"pending"===this.billingReport.status&&(e="badge-warning"),s.a.createElement(z.a,{title:"Verrechnungsrapport"},s.a.createElement(W.a,null,s.a.createElement(K.a,{className:"col-6"},s.a.createElement(U.a,{title:"Informationen"},s.a.createElement(X,{id:"orderTitle",title:"Auftrag"},this.billingReport.order.title),s.a.createElement(X,{id:"date",title:"Datum"},this.billingReport.orderDate.toLocaleDateString()),s.a.createElement(X,{id:"creator",title:"Ersteller"},this.billingReport.creator.displayName),s.a.createElement(X,{id:"status",title:"Status"},s.a.createElement("div",{className:"badge "+e},this.billingReport.status)),s.a.createElement(X,{id:"food",title:"Verpflegung"},this.billingReport.food?"\u2713":"\u2a2f"),s.a.createElement(X,{id:"remarks",title:"Bemerkungen"},this.billingReport.remarks))),s.a.createElement(K.a,{className:"col-6"},s.a.createElement(U.a,{title:"Actions"},this.renderActions()))),s.a.createElement(W.a,null,s.a.createElement(K.a,null,s.a.createElement(U.a,{title:"VKs"},s.a.createElement(pe.a,{columns:[{text:"Name",keys:{member:["firstname","lastname"]},sortable:!0},{text:"Von",keys:["from"],format:"toLocaleTimeString",sortable:!0},{text:"Bis",keys:["to"],format:"toLocaleTimeString",sortable:!0},{text:"Betrag",keys:["amount"],prefix:"CHF ",suffix:".-",sortable:!0},{text:"Ausbezahlt",keys:["paied"],sortable:!0},{text:"Actions",keys:["_id"],content:s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-success view",onMouseUp:this.elementView},s.a.createElement(x.a,{icon:"eye"})))}],data:this.prepareCompensationsForTable()})))))}}]),t}(o.Component),be=Object(b.b)(function(e,t){return{billingReports:e.data.billingReports,loading:e.data.billingReports.loading}},function(e,t){return{fetchBillingReports:function(){e(O.a.fetchBillingReports())},approve:function(t){e(O.a.approveBillingReport(t))}}})(he),fe=a(35),Ee=a(158),ve=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).onSelectChange=a.onSelectChange.bind(Object(M.a)(Object(M.a)(a))),a.onInputChange=a.onInputChange.bind(Object(M.a)(Object(M.a)(a))),a.onSave=a.onSave.bind(Object(M.a)(Object(M.a)(a))),a.state={member:"",date:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMembers()}},{key:"validate",value:function(){if(this.formEl){var e=this.formEl.checkValidity();return this.formEl.className="was-validated",e}return!1}},{key:"onSelectChange",value:function(e){e?this.setState({member:e.value}):this.setState({member:""})}},{key:"prepareMembers",value:function(){var e=[];if(Object.keys(this.props.members.byId).length>0)for(var t in this.props.members.byId){var a=this.props.members.byId[t];e.push({label:a.firstname+" "+a.lastname,value:t})}return e}},{key:"onInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(fe.a)({},n,a))}},{key:"onSave",value:function(e){e.preventDefault(),this.formEl&&this.validate()&&(this.props.save({member:this.state.member,date:new Date(this.state.date),amount:this.state.amount}),this.props.history.push("/compensations"))}},{key:"render",value:function(){var e=this;return this.props.loading||this.props.members.ids.length<1?s.a.createElement(z.a,{title:"Entsch\xe4digung hinzuf\xfcgen"},s.a.createElement(Z.a,null)):s.a.createElement(z.a,{title:"Entsch\xe4digung hinzuf\xfcgen"},s.a.createElement(W.a,null,s.a.createElement(K.a,null,s.a.createElement(U.a,null,s.a.createElement("form",{id:"addCompensation",ref:function(t){e.formEl=t}},s.a.createElement("h5",null,"Mitglied"),s.a.createElement(Ee.a,{isClearable:!0,onChange:this.onSelectChange,options:this.prepareMembers()}),s.a.createElement("br",null),s.a.createElement("h5",null,"Datum"),s.a.createElement("input",{name:"date",type:"date",className:"form-control",value:this.state.date,onChange:this.onInputChange,required:!0}),s.a.createElement("br",null),s.a.createElement("h5",null,"Betrag"),s.a.createElement("div",{className:"input-group mb-2"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("div",{className:"input-group-text"},"CHF")),s.a.createElement("input",{type:"number",step:"0.05",className:"form-control",name:"amount",value:this.state.amount,onChange:this.onInputChange,placeholder:"0.00",required:!0})),s.a.createElement("br",null),s.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.onSave},"Speichern"))))))}}]),t}(o.Component),ye=Object(b.b)(function(e){return{members:e.data.members,loading:e.data.members.loading}},function(e){return{fetchMembers:function(){e(O.a.fetchMembers())},save:function(t){e(O.a.addCompensationEntry(t))}}})(ve),Oe=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e,a))).store=Object(f.d)(S,Object(f.a)(_.a)),n.store.getState(),n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(b.a,{store:this.store},s.a.createElement(j.a,null,s.a.createElement("div",{className:"body"},s.a.createElement(v.ToastContainer,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!0}),s.a.createElement(w,null),s.a.createElement(G,null),s.a.createElement(C.a,null,s.a.createElement(I.a,{exact:!0,path:"/",component:function(){return s.a.createElement(T.a,{to:"/login"})}}),s.a.createElement(I.a,{exact:!0,path:"/login",component:ce}),s.a.createElement(V,{exact:!0,path:"/dashboard",role:R.AUTHENTICATED,component:Y}),s.a.createElement(V,{exact:!0,path:"/members",role:R.MEMBERS_READ,component:Q}),s.a.createElement(V,{exact:!0,path:"/contact/:id",role:R.CONTACTS_READ,component:te}),s.a.createElement(V,{exact:!0,path:"/orders",role:R.ORDERS_READ,component:ae}),s.a.createElement(V,{exact:!0,path:"/order/:id",role:R.ORDERS_READ,component:re}),s.a.createElement(V,{exact:!0,path:"/billing-reports",role:R.BILLINGREPORTS_READ,component:ie}),s.a.createElement(V,{exact:!0,path:"/billing-reports/add",role:R.BILLINGREPORTS_CREATE,component:se.a}),s.a.createElement(V,{exact:!0,path:"/billing-report/:id",role:R.BILLINGREPORTS_READ,component:be}),s.a.createElement(V,{exact:!0,path:"/compensations",role:R.COMPENSATIONS_READ,component:oe}),s.a.createElement(V,{exact:!0,path:"/compensations/add",role:R.COMPENSATIONS_CREATE,component:ye}),s.a.createElement(V,{exact:!0,path:"/users",role:R.ADMIN,component:ue}),s.a.createElement(V,{exact:!0,path:"/user/:id",role:R.ADMIN,component:me})))))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){"use strict";a.d(t,"b",function(){return p}),a.d(t,"a",function(){return d});var n=a(27),r=a.n(n),i=a(41),o=a(2),s=a(3),l=a(9),c=a(42),u=a.n(c),p={FETCH_USER:"fetch_user",GOT_USER:"got_user",FETCH_MEMBERS:"fetch_members",GOT_MEMBERS:"got_members",FETCH_RANKS:"fetch_ranks",GOT_RANKS:"got_ranks",FETCH_CONTACTS:"fetch_contacts",GOT_CONTACTS:"got_contacts",FETCH_ORDERS:"fetch_orders",GOT_ORDERS:"got_orders",FETCH_OPEN_ORDERS:"fetch_open_orders",GOT_OPEN_ORDERS:"got_open_orders",FETCH_BILLING_REPORTS:"fetch_billing_reports",GOT_BILLING_REPORTS:"got_billing_reports",ADD_BILLING_REPORT:"add_billing_report",APPROVE_BILLING_REPORT:"approve_billing_report",EDIT_BILLING_REPORT:"edit_billing_report",FETCH_COMPENSATION_ENTRIES:"fetch_compensation_entries",GOT_COMPENSATION_ENTRIES:"got_compensation_entries",ADD_COMPENSATION_ENTRY:"add_compensation_entry",FETCH_USERS:"fetch_users",GOT_USERS:"got_users"},d=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"fetchUser",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/me",p.FETCH_USER,p.GOT_USER)}},{key:"fetchContacts",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/contacts",p.FETCH_CONTACTS,p.GOT_CONTACTS)}},{key:"fetchMembers",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/members",p.FETCH_MEMBERS,p.GOT_MEMBERS)}},{key:"fetchRanks",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/ranks",p.FETCH_RANKS,p.GOT_RANKS)}},{key:"fetchOrders",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/orders",p.FETCH_ORDERS,p.GOT_ORDERS)}},{key:"fetchOpenOrders",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/billing-reports/open",p.FETCH_OPEN_ORDERS,p.GOT_OPEN_ORDERS)}},{key:"fetchBillingReports",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/billing-reports",p.FETCH_BILLING_REPORTS,p.GOT_BILLING_REPORTS)}},{key:"addBillingReport",value:function(e){var t=this;return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,r){n({type:p.ADD_BILLING_REPORT}),u.a.put("https://vkazutool.azurewebsites.net/api/billing-reports",e,{withCredentials:!0}).then(function(e){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gespeichert!"}),n(t.fetchBillingReports())}).catch(function(e){n({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"approveBillingReport",value:function(e){var t=this;return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,r){n({type:p.APPROVE_BILLING_REPORT,payload:e}),u.a.post("https://vkazutool.azurewebsites.net/api/billing-reports/approve",{_id:e},{withCredentials:!0}).then(function(e){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Genehmigt!"}),n(t.fetchBillingReports())}).catch(function(e){n({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"editBillingReport",value:function(e){var t=this;return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,r){n({type:p.EDIT_BILLING_REPORT}),u.a.post("https://vkazutool.azurewebsites.net/api/billing-reports",e,{withCredentials:!0}).then(function(e){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gespeichert!"}),n(t.fetchBillingReports())}).catch(function(e){n({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"fetchCompensationEntries",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/compensations",p.FETCH_COMPENSATION_ENTRIES,p.GOT_COMPENSATION_ENTRIES)}},{key:"addCompensationEntry",value:function(e){var t=this;return function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,r){n({type:p.ADD_COMPENSATION_ENTRY}),u.a.put("https://vkazutool.azurewebsites.net/api/compensations",e,{withCredentials:!0}).then(function(e){n({type:l.b.NOTIFICATION_SUCCESS,payload:"Gespeichert!"}),n(t.fetchCompensationEntries())}).catch(function(e){n({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}},{key:"fetchUsers",value:function(){return e.fetchFromApi("https://vkazutool.azurewebsites.net/api/users",p.FETCH_USERS,p.GOT_USERS)}},{key:"fetchFromApi",value:function(t,a,n){return function(){var o=Object(i.a)(r.a.mark(function i(o){return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r,i){o({type:a}),u.a.get(t,{withCredentials:!0}).then(function(t){var a=e.deepParser(t.data);r(o({type:n,payload:a}))}).catch(function(e){console.log(e),e.response&&401===e.response.status?o({type:l.b.NOTIFICATION_ERROR,payload:"Permission denied!"}):o({type:l.b.NOTIFICATION_ERROR,payload:"Ooopss....! Versuche es sp\xe4ter erneut"})})}));case 1:case"end":return r.stop()}},i,this)}));return function(e){return o.apply(this,arguments)}}()}},{key:"deepParser",value:function(t){if(t instanceof Array||"object"===typeof t){for(var a in t)t[a]=e.deepParser(t[a]);return t}return/[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T(2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z/.test(t)?new Date(t):t}}]),e}()},9:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return o});var n=a(2),r=a(3),i={NAVIBAR_TOGGLE:"navibar_toggle",NAVIBAR_LEVEL_OPEN:"navibar_level_open",NAVIBAR_LEVEL_COLLAPSE:"navibar_level_collapse",SEARCH_MEMBERS:"search_contacts",SORT_MEMBERS:"sort_members",SEARCH_ORDERS:"search_orders",SORT_ORDERS:"sort_orders",SEARCH_BILLING_REPORTS:"search_billing_reports",SORT_BILLING_REPORTS:"sort_billing_reports",SEARCH_COMPENSATION_ENTRIES:"search_compensation_entries",SORT_COMPENSATION_ENTRIES:"sort_compensation_entries",SEARCH_USERS:"search_users",SORT_USERS:"sort_users",NOTIFICATION_SUCCESS:"notification_success",NOTIFICATION_ERROR:"notification_error"},o=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"toggleNavibar",value:function(){return{type:i.NAVIBAR_TOGGLE}}},{key:"openNavibarLevel",value:function(e){return{type:i.NAVIBAR_LEVEL_OPEN,payload:e}}},{key:"collapseNavibarLevel",value:function(e){return{type:i.NAVIBAR_LEVEL_COLLAPSE,payload:e}}},{key:"searchMembers",value:function(e){return{type:i.SEARCH_MEMBERS,payload:e}}},{key:"sortMembers",value:function(e,t){return{type:i.SORT_MEMBERS,payload:{keys:e,direction:t}}}},{key:"searchOrders",value:function(e){return{type:i.SEARCH_ORDERS,payload:e}}},{key:"sortOrders",value:function(e,t){return{type:i.SORT_ORDERS,payload:{keys:e,direction:t}}}},{key:"searchBillingReports",value:function(e){return{type:i.SEARCH_BILLING_REPORTS,payload:e}}},{key:"sortBillingReports",value:function(e,t){return{type:i.SORT_BILLING_REPORTS,payload:{keys:e,direction:t}}}},{key:"searchCompensationEntries",value:function(e){return{type:i.SEARCH_COMPENSATION_ENTRIES,payload:e}}},{key:"sortCompensationEntries",value:function(e,t){return{type:i.SORT_COMPENSATION_ENTRIES,payload:{keys:e,direction:t}}}},{key:"searchUsers",value:function(e){return{type:i.SEARCH_COMPENSATION_ENTRIES,payload:e}}},{key:"sortUsers",value:function(e,t){return{type:i.SORT_COMPENSATION_ENTRIES,payload:{keys:e,direction:t}}}},{key:"showError",value:function(e){return{type:i.NOTIFICATION_ERROR,payload:e}}}]),e}()}},[[160,2,1]]]);
//# sourceMappingURL=main.0783c1b7.chunk.js.map